<div class="container">
  <h1>ğŸ“ Gestiune Catalog StudenÈ›i</h1>

  <form (ngSubmit)="adaugaStudent()" #formular="ngForm" class="student-form">
    <div class="input-group">
      <label>Nume:</label>
      <input type="text" name="nume" [(ngModel)]="studentNou.nume" placeholder="IntroduceÈ›i numele" required>
    </div>
    <div class="input-group">
      <label>Prenume:</label>
      <input type="text" name="prenume" [(ngModel)]="studentNou.prenume" placeholder="IntroduceÈ›i prenumele" required>
    </div>
    <div class="input-group">
      <label>Email:</label>
      <input type="email" name="email" [(ngModel)]="studentNou.email" placeholder="exemplu@email.com" required email>
    </div>

    <button type="submit" [disabled]="seIncarca || !formular.form.valid" class="btn-save">
      <span *ngIf="!seIncarca">â• AdaugÄƒ Student</span>
      <span *ngIf="seIncarca">â³ Se salveazÄƒ... vÄƒ rugÄƒm aÈ™teptaÈ›i</span>
    </button>
  </form>

  <hr>

  <h2>Lista StudenÈ›ilor Ã®nregistraÈ›i</h2>

  <table class="student-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nume Complet</th>
        <th>Email</th>
        <th>AcÈ›iuni</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of listaStudenti">
        <td>{{ s.id }}</td>
        <td>{{ s.nume }} {{ s.prenume }}</td>
        <td>{{ s.email }}</td>
        <td>
          <button (click)="selecteazaStudent(s)" class="btn-note" style="background-color: #2196F3; color: white; margin-right: 5px;">
            ğŸ“ Note
          </button>
          
          <button (click)="s.id !== undefined && stergeStudent(s.id)" class="btn-delete" [disabled]="seIncarca">
            ğŸ—‘ï¸ È˜terge
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  
  <p *ngIf="listaStudenti.length === 0 && !seIncarca">Nu sunt studenÈ›i Ã®n bazÄƒ.</p>

  <div *ngIf="studentSelectat" class="note-section" style="margin-top: 20px; padding: 15px; background: #f9f9f9; border-left: 5px solid #2196F3;">
    <h3>AdaugÄƒ notÄƒ pentru: <strong>{{ studentSelectat.nume }} {{ studentSelectat.prenume }}</strong></h3>
    
    <form (ngSubmit)="salveazaNota()" #formNota="ngForm">
      <div class="input-group" style="margin-bottom: 10px;">
        <input type="number" name="nota" [(ngModel)]="notaNoua.nota" placeholder="Nota (1-10)" min="1" max="10" required style="padding: 8px;">
        <input type="text" name="disciplina" [(ngModel)]="notaNoua.disciplina" placeholder="Disciplina" required style="padding: 8px; margin-left: 10px;">
      </div>

      <button type="submit" [disabled]="seIncarca || !formNota.form.valid" class="btn-save-note">
        {{ seIncarca ? 'â³ Se salveazÄƒ...' : 'ğŸ’¾ SalveazÄƒ Nota' }}
      </button>
      <button type="button" (click)="studentSelectat = null" style="margin-left: 10px;">âŒ AnuleazÄƒ</button>
    </form>
  </div>
</div>